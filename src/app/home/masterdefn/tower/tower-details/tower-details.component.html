<div>
  <mat-card class="main-card">
    <mat-card-header class="card-header">
      <mat-card-title>Tower Details</mat-card-title>
    </mat-card-header>
  </mat-card>
</div>

<mat-card>

  <div class="inline-container">
    <input matInput #filterInput class="inline-text-box" placeholder="Filter" (keyup)="applyFilter(filterInput.value)">
    <mat-paginator class="mat-pagination" [pageSizeOptions]="[5, 10, 25, 100]"></mat-paginator>
    <button class="inline-button" (click)="addRow()">Add New</button>
  </div>

  <mat-table [dataSource]="dataSource" class="mat-elevation-z8">
    <!-- Column for Tower ID -->
    <ng-container matColumnDef="tower_id">
      <mat-header-cell *matHeaderCellDef>Tower ID</mat-header-cell>
      <mat-cell *matCellDef="let row">{{ row['Tower_Id'] }}</mat-cell>
    </ng-container>

    <!-- Column for Tower Name -->
    <ng-container matColumnDef="tower_name">
      <mat-header-cell *matHeaderCellDef>Tower Name</mat-header-cell>
      <mat-cell *matCellDef="let row">{{ row['Tower_Name'] }}</mat-cell>
    </ng-container>

    <!-- Column for Number of Floors -->
    <ng-container matColumnDef="no_of_floors">
      <mat-header-cell *matHeaderCellDef>Number of Floors</mat-header-cell>
      <mat-cell *matCellDef="let row">{{ row['No_Of_Floors'] }}</mat-cell>
    </ng-container>

    <!-- Column for Entered User -->
    <ng-container matColumnDef="entered_user">
      <mat-header-cell *matHeaderCellDef>Entered User</mat-header-cell>
      <mat-cell *matCellDef="let row">{{ row['Entered_User'] }}</mat-cell>
    </ng-container>

    <!-- Column for Entered At -->
    <ng-container matColumnDef="entered_at">
      <mat-header-cell *matHeaderCellDef>Entered At</mat-header-cell>
      <mat-cell *matCellDef="let row">{{ row['Entered_At'] }}</mat-cell>
    </ng-container>

    <!-- Column for Last Modified At -->
    <ng-container matColumnDef="last_modified_at">
      <mat-header-cell *matHeaderCellDef>Last Modified At</mat-header-cell>
      <mat-cell *matCellDef="let row">{{ row['Last_Modified_At'] }}</mat-cell>
    </ng-container>

    <!-- Column for Actions -->
    <ng-container matColumnDef="Actions">
      <mat-header-cell *matHeaderCellDef>Actions</mat-header-cell>
      <mat-cell *matCellDef="let row">
        <button class="action-btn" mat-icon-button (click)="editRow(row)">
          <mat-icon>edit</mat-icon>
        </button>

        <button class="action-btn" style="margin-left: 10px;" mat-icon-button (click)="deleteRow(row)">
          <mat-icon>delete</mat-icon>
        </button>
      </mat-cell>
    </ng-container>

    <!-- Set the table columns -->
    <mat-header-row *matHeaderRowDef="displayedColumns" [ngClass]="'mat-table-header'"></mat-header-row>
    <mat-row *matRowDef="let row; columns: displayedColumns"></mat-row>
  </mat-table>


</mat-card>
<br><br>

<app-loading *ngIf="isLoading"></app-loading>